{% extends 'movietut/base.html' %}
{% load static %}

{% block content %}

    <section class="section">
        <div class="container is-max-desktop">
            <div class="columns is-multiline">
                {% for movie in page_obj %}
                    <div class="column is-one-quarter">
                        <div class="card">
                            <div class="card-image">
                                {% if movie.poster %}
                                    <figure class="image is-3by4">
                                        <img src="https://www.themoviedb.org/t/p/w1280{{ movie.poster }}"
                                             alt="{{ movie }} poster">
                                    </figure>
                                {% else %}
                                    <figure class="image is-3by4">
                                        <img src="{% static 'movietut/img/placeholder.svg' %}"
                                             alt="{{ movie }} poster">
                                    </figure>
                                {% endif %}
                            </div>
                            <div class="card-content">
                                <h3 class="has-text-weight-bold">{{ movie.title|truncatechars:42 }}</h3>
                                <h4 class="has-text-grey-dark">{{ movie.release_date }}</h4>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>

            {% if page_obj.has_other_pages %}
                <div class="pt-6">
                    {% include 'movietut/movie_list/movie_list_pagination.html' %}
                </div>
            {% endif %}
        </div>
    </section>

    <style>
        .card {
            height: 100%;

        }
    </style>

{% endblock %}